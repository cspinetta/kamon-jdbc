# ================================== #
# kamon JDBC reference configuration #
# ================================== #

kamon {
  agent {
    show-banner = false
    debug-mode = false

    modules {
      jdbc-module {
        name = "JDBC Instrumentation Module"
        instrumentations = [
          "kamon.jdbc.instrumentation.StatementInstrumentation",
          "kamon.jdbc.instrumentation.HikariInstrumentation"
        ]
        within = [
          "com.zaxxer.hikari.pool.HikariPool",
          "com.zaxxer.hikari.pool.ProxyConnection",
          "org.h2..*",
          "com.mysql.jdbc..*",
          "org.mariadb.jdbc..*",
          "org.postgresql.jdbc..*",
          "com.microsoft.sqlserver.jdbc..*",
          "oracle.jdbc..*",
          "net.sf.log4jdbc..*"
        ]
      }
    }
  }

  jdbc {

    # Minimum elapsed time for a statement execution to be processed by the slow query processor
    slow-query-threshold = 2 seconds

    # FQCN of the implementation of kamon.jdbc.SlowQueryProcessor.
    slow-query-processor = "kamon.jdbc.Jdbc$SlowQueryProcessor$Default"

    # Fully qualified name of the implementation of kamon.jdbc.SqlErrorProcessor.
    sql-error-processor = "kamon.jdbc.Jdbc$SqlErrorProcessor$Default"
  }
}
